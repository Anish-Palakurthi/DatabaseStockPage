<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>StockPage utilizing Database</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

    <!--import for Chart.js-->





</head>

<body>
    <form>
        <label>Enter Start Date (Must be within the last year in YYYY-MM-DD): </label>
        <input type="text" placeholder="2021-01-01" id="Date">
        <br>
        <label>Enter First Stock Symbol: </label>
        <input type="text" placeholder="Stock 1" id="s1">
        <br>
        <label>Enter Second Stock Symbol: </label>
        <input type="text" placeholder="Stock 2" id="s2">
        <br>
        <p>Sample Stock Tickers: AAPL, TSLA, GOOG, FB, MSFT</p>
        <button type="button" onclick="getInputValue(); ">Submit</button>
    </form>

    <div><canvas id="myChart"></canvas></div>



    <script>
        var dates = [];
        var closes1 = [];
        var closes2 = [];
        var infoStored;

        function getInputValue() {
            // Selecting the input element and get its value 

            const inputDate = document.getElementById("Date").value;
            const inputS1 = document.getElementById("s1").value;
            const inputS2 = document.getElementById("s2").value;

            //const mysql = require("mysql");
            import mysql from 'mysql';

            connect();
            async function connect() {

                try {
                    const con = await mysql.createConnection({
                        "host": "127.0.0.1",
                        "user": "root",
                        "password": "",
                        "database": "test.db"

                    });


                    const result1 = await con.query(`SELECT * FROM stocks2 WHERE ticker = '${inputS1}'';`);
                    console.table(result1[0]);

                    const result2 = await con.query(`SELECT * FROM stocks2 WHERE ticker = '${inputS2}'';`);
                    console.table(result2[0]);
                }



                catch (err) {
                    console.error(err);
                }

            }
        }

    </script>




</body>

</html>